backend:
  name: github
  repo: vaspadi/dom-invest-managment

media_folder: assets/img/uploads
public_folder: uploads
# test-text
collections:
  - name: news
    label: Новости
    folder: content/news
    format: frontmatter
    create: true
    slug: '{{fields.slug}}'
    editor:
      preview: false
    fields:
      - label: Заголовок страницы
        name: metaTitle
        widget: string

      - label: Название файла
        name: slug
        widget: string
        hint: Переименовать файл нельзя

      - label: Картинка
        name: img
        widget: image
        media_folder: /assets/img/news
      
      - label: Заголовок новости
        name: title
        widget: string
      
      - label: Описание
        name: description
        widget: string
      
      - label: Описание metatag
        name: metaDescription
        widget: string
        required: false
      
      - label: Тэги
        name: tags
        widget: list
        field: {
          - label: Текст тэга,
            name: text,
            widget: string
        }
      
      - label: Добавить на главную страницу
        name: indexPage
        widget: boolean
        required: false
      
      - label: Body
        name: body
        widget: markdown

  - name: objects
    label: Объекты
    folder: content/objects
    format: json
    create: true
    slug: '{{fields.slug}}'
    editor:
      preview: false
    fields:
      - { label: Название файла, name: slug, widget: string, hint: Переименовать файл нельзя }
      - { label: Картинка, name: img, widget: image, media_folder: /assets/img/objects }
      - { label: Заголовок объекта, name: title, widget: string }
      - { label: Сайт объекта, name: link, widget: string, required: false }
      - { label: Добавить на главную страницу, name: indexPage, widget: boolean, hint: Игнорируется для Новостроек, required: false }
      - { label: Переместить в Новостройки, name: project, widget: boolean, default: false, required: false }

  - name: index-page
    label: 'Страница: Главная'
    files:
      - label: Главный слайдер
        name: mainSlider
        file: content/index-page/mainSlider.json
        editor:
          preview: false
        fields:
          - label: Заголовок секции
            name: title
            widget: string

          - label: Картинки
            name: images
            widget: list
            summary: '{{fields.img}}'
            field: {
              - label: Картинка,
                name: img,
                widget: image,
                media_folder: /assets/img/main-slider
            }

  - name: projects
    label: Новостройки
    folder: content/objects
    format: frontmatter
    create: false
    editor:
      preview: false
    filter:
      field: project
      value: true
    fields:
      - label: Переместить в Новостройки
        name: project
        widget: boolean

  - name: seo
    label: Seo
    files:
      - label: sitemap
        name: sitemap
        file: content/seo.json
        editor:
          preview: false
        fields:
        - label: sitemap.xml
          name: file
          widget: file
          media_folder: /static